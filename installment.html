<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./img/fava.png" type="image/x-icon">
    <link rel="stylesheet" href="./css/about.css">
    <link rel="stylesheet" href="./css/according.css">
    <link rel="stylesheet" href="./css/gallery.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="./css/select.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/mortgage.css">
    <title>Ипотека</title>
</head>

<body>
    <header>
        <div class="container">
            <div class="hd-info">
                <div class="hd-left">
                    <div class="hd-logo">
                        <a href="./index.html"><img src="./img/logo.png" alt="Земля35"></a>
                    </div>
                    <a href="./select.html" class="hd-catalog">
                        <img src="./img/Icon1.svg" alt="">
                        <p>Выбрать участок</p>
                    </a>
                </div>
                <div class="hd-right">
                    <div class="hd-main">
                        <a href="./about_us.html">О нас</a>
                        <a href="./installment.html#office">Контакты</a>
                        <a href="./mortgage.html">Рассрочка</a>
                        <a href="./installment.html">Ипотека</a>
                    </div>
                    <a href="#" class="hd-auth" onclick="openLoginModal()">
                        <img src="./img/Icon2.svg" alt="">
                        <p>Войти</p>
                    </a>
                </div>
            </div>
        </div>
    </header>
    <div class="baner">
        <div class="container">
            <div class="baner-info">
                <div class="baner-main">
                    <h1>Ипотечные программы<br>от банков-партнёров
                    </h1>
                    <p>Выберите выгодный вариант ипотеки,<br>
                        который подходит для вас</p>
                </div>
            </div>
        </div>
    </div>
    <div class="advantage mortgage">
        <div class="container">
            <div class="advant-main">
                <h2>Ипотека 6%</h2>
                <div class="advant-cards">
                    <div class="advant-card">
                        <div class="advant-card_title">
                            От 20%
                        </div>
                        <p class="light">Первоначальный взнос по программе «Семейная ипотека»
                        </p>
                    </div>
                    <div class="advant-card">
                        <div class="advant-card_title">До 12 млн</div>
                        <p class="light">Сумма кредита, которую можно получить</p>
                    </div>
                    <div class="advant-card">
                        <div class="advant-card_title">До 30 лет</div>
                        <p class="light">Срок кредита по ипотечным программам</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="calculater-block">
        <div class="container">
            <h2>Рассчитайте программу рассрочки</h2>
            <div class="calculater-info">
                <div class="slider-container">
                    <!-- Стоимость участка -->
                    <div class="slider-item-info">
                        <div class="slider-item">
                            <div class="slider-label">Стоимость участка</div>
                            <div class="slider-value" id="costValue">400 000 ₽</div>
                            <input type="range" id="costSlider" min="400000" max="6000000" step="100000" value="400000">
                        </div>
                        <div class="min-max_value">
                            <div class="min value">от 400 000 ₽</div>
                            <div class="max value">до 6 000 000 ₽</div>
                        </div>
                    </div>

                    <!-- Первоначальный взнос -->
                    <div class="slider-item-info">
                        <div class="slider-item">
                            <div class="slider-label">Первоначальный взнос</div>
                            <div class="slider-value" id="downPaymentValue">20%</div>
                            <input type="range" id="downPaymentSlider" min="20" max="100" step="1" value="20">
                        </div>
                        <div class="min-max_value">
                            <div class="min value">от 20%</div>
                            <div class="max value">до 100%</div>
                        </div>
                    </div>

                    <!-- Срок ипотеки -->
                    <div class="slider-item-info">
                        <div class="slider-item">
                            <div class="slider-label">Срок ипотеки</div>
                            <div class="slider-value" id="termValue">1 год</div>
                            <input type="range" id="termSlider" min="1" max="30" step="1" value="1">
                        </div>
                        <div class="min-max_value">
                            <div class="min value">от 1 года</div>
                            <div class="max value">до 30 лет</div>
                        </div>
                    </div>
                </div>

                <div class="result-container">
                    <div class="result-container_top">
                        <div class="result-item">
                            <div class="result-item_name">Ежемесячный платеж</div>
                            <div class="result-item_value" id="monthlyPayment">60 861 ₽</div>
                        </div>
                        <div class="result-item">
                            <div class="result-item_name">Переплата за весь срок</div>
                            <div class="result-item_value" id="totalOverpayment">921 515 ₽</div>
                        </div>
                        <div class="result-item">
                            <div class="result-item_name">Необходимый доход</div>
                            <div class="result-item_value" id="requiredIncome">120 000 ₽</div>
                        </div>
                        <div class="result-item">
                            <div class="result-item_name">Налоговый вычет</div>
                            <div class="result-item_value" id="taxDeduction">13%</div>
                        </div>
                    </div>
                    <div class="result-container_bot">
                        <button type="submit" href="javascript:void(0)" onclick="openFeedbackModal()" class="btn">Подать
                            заявку</button>
                        <div id="message" style="display: none;">Заявка отправлена</div>
                        <div class="policy-text">Нажимая на кнопку, я соглашаюсь с <a target="_blank"
                                href="./according.html" class="privacy-policy"> политикой конфиденциальности</a> и
                            политикой обработки персональных данных
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="carta image-phone">
        <div class="container">
            <div class="carta-info">
                <form class="ct-form" method="post">
                    <div class="head-form">
                        <h2>Рассчитайте беспроцентную рассрочку</h2>
                    </div>
                    <div class="info-form">
                        <input type="text" placeholder="Ваше имя" required>
                        <input type="tel" id="phone" placeholder="Ваш телефон" required>
                    </div>
                    <button type="submit" class="btn"">Оставить заявку</button>
                    <div class=" policy-text">Нажимая на кнопку, я соглашаюсь с <a target="_blank"
                            href="./according.html" class="privacy-policy"> политикой конфиденциальности</a> и политикой
                        обработки персональных данных
            </div>
            </form>
        </div>
    </div>
    </div>
    <footer>
        <div class="container">
            <div class="footer-main">
                <div class="footer-info" id="office">
                    <div class="ft-local">
                        <p>Главный офис</p>
                        <p class="light">Бизнес Центр "Bellagio"<br>Часы работы: с 10:00 до 19:00</p>
                    </div>
                    <div class="ft-mess">
                        <p>Обратная связь</p>
                        <p class="light">Есть жалоба или предложение?</p>
                        <a href="javascript:void(0)" onclick="openFeedbackModal()" class="bt-ft">Написать директору</a>
                    </div>
                </div>
                <div class="footer-menu">
                    <div class="ft-company">
                        <p>Компания</p>
                        <a class="light" href="./about_us.html">О компании</a>
                    </div>
                    <div class="ft-service">
                        <p>Сервис</p>
                        <a class="light" href="./mortgage.html">Рассрочка</a>
                        <a class="light" href="./installment.html">Ипотека</a>
                    </div>
                    <div class="ft-social">
                        <p>Соцсети</p>
                        <a class="light" href="#">ВКонтакте</a>
                        <a class="light" href="#">Telegram</a>
                        <a class="light" href="#">YouTube</a>
                    </div>
                    <div class="ft-contact">
                        <p class="light">Телефон</p>
                        <a target="_blank" href="tel:+749518916">+7 (495) 189-68-16</a>
                        <p class="light">Почта</p>
                        <a target="_blank" href="mailto:info@good-zem.com">info@good-zem.com</a>
                    </div>
                </div>
            </div>
            <div class="footer-botoom">
                <div class="ft-logo">
                    <img src="./img/logo.png" alt="Земля35">
                    <p class="light">© 2025 ИП Чикунов А.Н.</p>
                </div>
                <div class="ft-info">
                    <div class="ft-accord light">
                        <p>Обращаем ваше внимание на то, что вся представленная на сайте информация носит
                            исключительно
                            информационный характер и ни при каких условиях не является публичной офертой,
                            определяемой
                            положениями Статьи 437(2) Гражданского кодекса Российской Федерации. </p>
                    </div>
                    <div class="ft-accord light">
                        <p>К нашему сайту подключен сервис веб-аналитики Яндекс. Метрика, использующий cookie.
                            Оставаясь
                            на сайте, выдаете свое согласие на обработку персональных данных с помощью этого сервиса
                            в порядке, указанном в <a target="_blank" href="./according.html">Политике
                                конфиденциальности.</a></p>
                    </div>
                </div>
            </div>
            <div class="footer-copirat">
                <p>Разработано Климасей</p>
            </div>
            <div id="authModal" class="modal">
                <div class="modal-content">
                    <span class="close"><img src="./img/close.png" alt=""></span>
                    <div class="modal-content__top">
                        <h2>Создайте аккаунт!</h2>
                        <form class="modal-input_wrapper">
                            <input type="text" placeholder="Логин" required>
                            <input type="password" placeholder="Пароль" required>
                            <div class="check-modal">
                                <input type="checkbox" id="agreeCheckbox" required>
                                <label for="agreeCheckbox">Я предпочитаю не получать уведомления по электронной почте о
                                    рекламных акциях Земля35.</label>
                            </div>
                            <button type="submit" class="btn">Зарегестрироваться</button>
                        </form>
                    </div>
                    <div class="modal-content__bot">
                        <div class="modal-content__bot-head">
                            <a href="#" onclick="openGoogleAuth()" class="bt-modal"><img src="./img/google.png"
                                    alt="">Войти
                                с
                                помощью
                                Google</a>
                            <div class="have_acc">
                                <p class="bold">У вас уже есть аккаунт?</p> <a href="#" onclick="openLoginModal()"
                                    class="bold">Войти</a>
                            </div>
                        </div>
                        <div class="desc">
                            Продолжая, я соглашаюсь с <a target="_blank" href="./according.html">политикой
                                конфиденциальности</a>
                            и политикой обработки персональных данных=
                        </div>
                    </div>
                </div>
            </div>
            <div id="loginModal" class="modal">
                <div class="modal-content">
                    <span class="close"><img src="./img/close.png" alt=""></span>
                    <form class="modal-content__top">
                        <h2>Войдите в свой аккаунт!</h2>
                        <div class="modal-input_wrapper">
                            <input type="text" placeholder="Логин" required>
                            <input type="password" placeholder="Пароль" required>
                            <button type="submit" class="btn">Войти</button>
                        </div>
                    </form>
                    <div class="modal-content__bot">
                        <div class="modal-content__bot-head">
                            <a href="#" onclick="openGoogleAuth()" class="bt-modal">
                                <img src="./img/google.png" alt="">Войти с помощью Google
                            </a>
                            <div class="have_acc">
                                <p class="bold">У вас еще нет аккаунта?</p> <a href="#" onclick="openRegisterModal()"
                                    class="bold">Зарегистрироваться</a>
                            </div>
                        </div>
                        <div class="desc">
                            Продолжая, я соглашаюсь с <a target="_blank" href="./according.html">политикой
                                конфиденциальности</a>
                            и политикой обработки персональных данных
                        </div>
                    </div>
                </div>
            </div>
            <div id="feedbackModal" class="writemodal">
                <form class="modal-content">
                    <div class="modal-main">
                        <span class="close"><img src="./img/close.png" alt=""></span>
                        <h2>Обращение в Земля35</h2>
                        <p>Напишите ваше обращение, мы обязательно рассмотрим его</p>
                        <div class="input-form">
                            <input type="text" placeholder="Ваше имя" required>
                            <div class="input-flex">
                                <input type="text" placeholder="Номер телефона" required>
                                <input type="email" placeholder="Почта" required>
                            </div>
                            <textarea placeholder="Ваше обращение" required></textarea>
                        </div>
                    </div>
                    <button href="#" type="submit" class="btn">Отправить</button>
                    <p>Нажимая на кнопку, я соглашаюсь <a target="_blank" href="./according.html">с политикой
                            конфиденциальности</a> и политикой обработки персональных
                        данных</p>
                </form>
            </div>
            <div id="modal_return" class="modal">
                <div class="modal-content">
                    <p>Заявка успешно отправлена, мы свяжемся с вами в течение дня</p>
                </div>
            </div>
            <script src="./js/script.js"></script>
        </div>
    </footer>
    <script>
        const costSlider = document.getElementById('costSlider');
        const downPaymentSlider = document.getElementById('downPaymentSlider');
        const termSlider = document.getElementById('termSlider');
        const costValue = document.getElementById('costValue');
        const downPaymentValue = document.getElementById('downPaymentValue');
        const termValue = document.getElementById('termValue');
        const monthlyPayment = document.getElementById('monthlyPayment');
        const totalOverpayment = document.getElementById('totalOverpayment');
        const requiredIncome = document.getElementById('requiredIncome');
        const taxDeduction = document.getElementById('taxDeduction');
        const interestRate = 0.07;

        function formatNumber(value) {
            return value.toLocaleString('ru-RU') + ' ₽';
        }

        function formatTerm(term) {
            if (term === 1) return '1 год';
            if (term >= 2 && term <= 4) return term + ' года';
            return term + ' лет';
        }

        function calculatePayments() {
            const cost = parseFloat(costSlider.value);
            const downPaymentPercent = parseFloat(downPaymentSlider.value);
            const term = parseFloat(termSlider.value);

            const downPayment = (downPaymentPercent / 100) * cost;
            const loanAmount = cost - downPayment;
            const totalMonths = term * 12;
            const monthlyInterestRate = interestRate / 12;
            const monthlyPaymentValue = (loanAmount * monthlyInterestRate) / (1 - Math.pow(1 + monthlyInterestRate, -totalMonths));
            const totalPayment = monthlyPaymentValue * totalMonths;
            const overpayment = totalPayment - loanAmount;
            const requiredIncomeValue = monthlyPaymentValue * 3; //  необходимый доход = 3 * ежемесячный платеж
            const taxDeductionValue = loanAmount * 0.13; // Налоговый вычет = 13% от суммы кредита

            costValue.textContent = formatNumber(cost);
            downPaymentValue.textContent = downPaymentPercent + '%';
            termValue.textContent = formatTerm(term);
            monthlyPayment.textContent = formatNumber(Math.round(monthlyPaymentValue));
            totalOverpayment.textContent = formatNumber(Math.round(overpayment));
            requiredIncome.textContent = formatNumber(Math.round(requiredIncomeValue));
            taxDeduction.textContent = formatNumber(Math.round(taxDeductionValue)) + ' ₽';
        }

        costSlider.addEventListener('input', calculatePayments);
        downPaymentSlider.addEventListener('input', calculatePayments);
        termSlider.addEventListener('input', calculatePayments);

        // Initial calculation
        calculatePayments();

        function openForm() {
            document.getElementById('overlay').style.display = 'flex';
        }

        function closeForm() {
            document.getElementById('overlay').style.display = 'none';
        }

        function validateForm() {
            var nameInput = document.getElementById('name');
            var phoneInput = document.getElementById('phone');
            var isValid = true;

            if (nameInput.value.trim() === '') {
                nameInput.classList.add('error');
                isValid = false;
            } else {
                nameInput.classList.remove('error');
            }

            if (phoneInput.value.trim() === '') {
                phoneInput.classList.add('error');
                isValid = false;
            } else {
                phoneInput.classList.remove('error');
            }

            if (isValid) {
                // Здесь можно добавить код для отправки формы
                alert('Форма отправлена!');
                closeForm();
            }
        }
    </script>
</body>

</html>